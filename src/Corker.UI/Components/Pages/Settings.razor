@page "/settings"
@using Corker.Core.Interfaces
@inject ISettingsService SettingsService

<h3>Settings</h3>

<div class="settings-form">
    <div class="mb-3">
        <label class="form-label">LLM Model Path</label>
        <input type="text" class="form-control" @bind="ModelPath" />
    </div>

    <div class="mb-3">
        <label class="form-label">Max Concurrent Agents</label>
        <input type="number" class="form-control" @bind="MaxAgents" />
    </div>

    <button class="btn btn-primary" @onclick="SaveSettings">Save</button>
</div>

@code {
    private string ModelPath = "";
    private int MaxAgents = 3;

    protected override void OnInitialized()
    {
        ModelPath = SettingsService.Get<string>("LlmModelPath");
        MaxAgents = SettingsService.Get<int>("MaxAgents");
    }

    private void SaveSettings()
    {
        SettingsService.Set("LlmModelPath", ModelPath);
        SettingsService.Set("MaxAgents", MaxAgents);
        // Trigger reload or notification
    }
}
